---
title: "Final Project Report"
author: "Anjile An (ja3237), Ashley Kang (aik2136), Divya Bisht (db3180), Amelia Grant-Alfieri (ag3911)"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  out.width = "90%"
)

library(tidyverse)
library(modelr)
library(mgcv)
library(patchwork)

theme_set(theme_bw() + theme(legend.position = "bottom"))
```

## Motivation

Unlike many factors we can control in determining our health, ambient (outdoor) air quality is almost impossible to alter. It accounts for significant morbidity and, indirectly, to mortality around the world. We were interested in how air pollution in New York State, measured through proxies such as PM2.5, ozone and air quality index (AQI), may lead to the acute exacerbation of chronic conditions like cardiovascular diseases and asthma as well as acute cardiovascular symptoms. Our goal is to illustrate trends in the relationship between air quality and acute health outcomes and areas (geographically and scientifically) requiring future research.

#### Background

When someone breathes, they are exposed not to a single compound in isolation but rather to a mixture of compounds. Two compounds that are known to confer toxicity are ozone and fine particulate matter (PM2.5). Ozone is a fat soluble chemical than can bypass absorption in the upper respiratory system and penetrate down into the alveoli. PM2.5 is a tiny particle that, due to its size, can also travel deep into the alveoli. Both PM2.5 and ozone can have harmful local effects in the respiratory system and, because of their ability to cross from the lung into the bloodstream, can have harmful distal effects throughout the cardiovascular system. 

## Related work

Research conducted by Dr. Frederica Perera, Dr. Marianthi-Anna Kioumourtzoglou, and others at the Center for Children's Environmental Health, Columbia University, as well as previous classwork utilizing NOAA data inspired us to explore environmental data. Throughout our studies, we have learned that air pollution is known to have detrimental effects on human health. For instance, [high PM2.5](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5260007/) and [ozone exposure](https://www.atsjournals.org/doi/abs/10.1164/rccm.201811-2106ED) causes damage to the respiratory system, which puts individuals at risk for health outcomes like asthma and heart disease. We became personally interested about how air quality here may adversely affect our health outcomes upon learning that New York ranks tenth in [most polluted cities (by ozone)](https://www.lung.org/our-initiatives/healthy-air/sota/city-rankings/most-polluted-cities.html) in the United States.

## Initial questions 

**How does exposure to air pollutants affect acute health outcomes?**

Our team wanted to investigate how exposure to air quality might affect health outcomes. Based on our own knowledge and a basic literature review, we confirmed that health outcomes like asthma and cardiovascular disease are often associated with poor air quality. Hospitalization data for asthma and cardiovascular disease was selected to show rates of the two diseases across geographic regions. 

Initially, we looked at PM2.5 as a measure of air quality. We additionally looked into ozone levels across NY state counties. However, the data for both PM2.5 and ozone were sparse on their own. We finally settled on using the Air Quality Index (AQI) since it aggregates different measures of air pollutants including PM2.5 and ozone. 

**What are trends across New York City? New York State?**

Our question was focused on looking at hospitalizations and air pollutant exposure in New York City. However, investigating our data across New York City boroughs didn’t bring about substantial or interesting results because there wasn’t enough data available. Therefore, we adapted decided to look at AQI across New York State Counties.

## Data

For our data analysis, we used data from [New York State DOH HealthData](https://data.ny.gov/browse?category=Health&utf8=%E2%9C%93), [NYCDOH Environment and Health Data Portal](http://a816-dohbesp.nyc.gov/IndicatorPublic/publictracking.aspx), and [United States Environmental Protection Agency AirData](https://www.epa.gov/outdoor-air-quality-data). 

[Asthma emergency department visits, rate per 10,000 by county](https://health.data.ny.gov/Health/PA-Asthma-Emergency-Department-Visit-Rate-Per-10-0/4xmh-bgkz) 

* We noticed right away that this dataset only had data from 2014 from SPARCS, which became an important factor in selecting future datasets to use in our analysis.
* The data, while we initially thought was presented by county, we found also included NYS regions (ie. New York City) which we removed in our cleaning process. 

[Age-adjusted cardiovascular disease hospitalization, rate per 10,000 by county](https://health.data.ny.gov/Health/Community-Health-Age-adjusted-Cardiovascular-Disea/3ycx-tfnb)

* This was the most complete dataset on CVD from SPARCS, and matched the data years of the asthma dataset (2012-2014). 
* This dataset was doubled in size because of the two “health topics” that cardiovascular disease fell under, resulting in two rows of identical data for each county. We selected for the “cardiovascular disease indicator” health topic, and removed NYS regions in the cleaning process as well.
* This dataset was age-adjusted since the risk of developing cardiovascular disease increases with age.

[PM 2.5 by NYS county](https://apps.health.ny.gov/statistics/environmental/public_health_tracking/tracker/index.html#/airpollutionExportData) 

* This dataset had PM 2.5 by county data for 2000 - 2017, but the data was very incomplete, with only 13 out of 62 counties reporting measures. 
* We selected for 2014, to match our outcome data. 
* PM 2.5 was also measured in a variety of ways for the 13 counties, including ug/m^3, percent, and person-days, which is not standard across available datasets. 

[Annual summary air quality index data by county, 2014](https://aqs.epa.gov/aqsweb/airdata/download_files.html#Annual)

* This dataset provided county level air quality index (0-500 scale) data for 2014, and we selected for New York State, but only 29 counties had available data. 
* The data listed the number of good to hazardous air quality index days for each county, and the sum of total unhealthy days (unhealthy for sensitive groups or worse).
* The dataset also listed how many days out of the year each county measured for a series of pollutants, but we chose to use total unhealthy days as an aggregate measure of air quality. 

[NYS, hospitals per county](https://profiles.health.ny.gov/hospital/county_or_region/)

* There was no readily available dataset for number of hospitals per county, so we had to manually use the NYS Health Profiles to create a dataset with the number of hospitals per county.

## Exploratory analysis

Initial PM2.5 data exploration was focused on New York City counties. However, limited data was available, so NY state county data were selected to demonstrate the relationship between PM2.5 and hospitalizations of asthma and CVD. 


Over 2000-2014, levels of PM2.5 across all counties in New York State have steadily decreased. 

#### PM2.5 Dataset, 2000-2014
```{r load_clean_pm_dataset, message=FALSE, warning = FALSE, output=FALSE}
PM_county_NYS = read_csv("./data/PM2.5_county_NYS.csv") %>%
  janitor::clean_names() %>%
  select(county_name, year, output, measure) %>%
  separate(county_name, into = c("county", "delete", sep = " ")) %>% 
  select(-delete) %>%
  mutate(county = recode(county, `New` = "New York")) %>% 
  select(county, year, output, measure)
```

#### Plot PM2.5 (ug/m3) over time, 2000-2014 
```{r plot_pm_00_14, message=FALSE}
PM_plot_conc_allyears = PM_county_NYS %>%
  filter(measure == "Micrograms/cubic meter (LC)") %>%
  group_by(county, year) %>%
  ggplot(aes(x = year, y = output, color = county)) + 
  geom_line() + 
  labs(title = "Ambient PM2.5 Concentrations in New York State, 2000-2014", 
       x = "Year", 
       y = "PM2.5 (ug/m3)")

PM_plot_conc_allyears
```


Next, we wanted to assess how PM2.5 exposure varied across counties in NY State. 

#### PM2.5 EPA dataset
```{r pm_epa_dataset, message=FALSE}
nyc_pm25 = read_csv(file = "./data/data_AA/annual_aqi_by_county_2014.csv") %>% 
  janitor::clean_names() %>%
  filter(state == "New York")
```

#### Days of PM2.5 by NY County
```{r pm_county_epa, warning=FALSE}
pm_hist = nyc_pm25 %>%
  ggplot(aes(x = reorder(county, -days_pm2_5), y = days_pm2_5)) + 
  labs(
    title = "Days of PM2.5 by County",
    x = "County",
    y = "Days with PM2.5") +
  geom_histogram(stat = "identity") + theme(axis.text.x = element_text(angle = 90))

pm_hist
```

Kings, Oneida, and Nassau reported the most number of days of PM2.5.  

Literature shows that exposure to PM2.5 is associated with asthma and cardiovascular disease. Therefore, we wanted to assess hospitalization of asthma and CVD across counties. 

As we can see here, there is a lot of missing PM 2.5 data at the county level, and various measures (percent, person-days, ug/m^3). Given that the US EPA AQI annual summary datasets have more available data covering more NYS counties on days of adverse air quality, we will utilize "total unhealthy air quality days" as a proxy for overall poor air quality.

#### Asthma ER Admissions Rate Dataset, 2014
```{r asthma_er_dataset, message=FALSE, output=FALSE, warning=FALSE}
asthma_ER = read_csv("./data/Asthma_ER_Rate_10000.csv") %>%
  janitor::clean_names() %>%
  select(county_name, percentage_rate_ratio, data_years) %>%
  rename(asthma_ER_percent_rate = percentage_rate_ratio, 
         asthma_ER_years = data_years) %>%
  filter(!county_name %in% c("Long Island", "New York City", "Mid-Hudson", 
                             "Capital Region", "Mohawk Valley", 
                             "North Country", "Tug Hill Seaway", 
                             "Central NY", "Southern Tier", "Finger Lakes", 
                             "Western NY", "New York State (excluding NYC)", 
                             "New York State")) %>% 
  #to remove non-county regions
  rename(county = county_name)
```

#### Plot Asthma ER Admissions per County, 2014
```{r plot_asthma_er}
asthma_plot_14 = asthma_ER %>%
    ggplot(aes(x = reorder(county, -asthma_ER_percent_rate), 
               y = asthma_ER_percent_rate, group = 1)) + 
  geom_histogram(stat = "identity") + 
  theme(axis.text.x = element_text(angle = 90)) + 
  labs(x = "County", 
       y = "Asthma ER Admission Rate (per 10,000)", 
       title = "Asthma Emergency Room (ER) Admission Rate (per 10,000) by County in New York State, 2014")
asthma_plot_14 
```

#### Cardiovascular hospitalizations
```{r load_clean_cvd, message = FALSE, warning=FALSE}
cvd_data = read_csv(file = "./data/data_AK/Community_Health__Age-adjusted_Cardiovascular_Disease_Hospitalization_Rate_per_10_000_by_County_Map__Latest_Data.csv") %>% 
  janitor::clean_names() %>%
  filter(health_topic %in% "Cardiovascular Disease Indicators") %>% 
  select(county_name, event_count, average_number_of_denominator, 
         percent_rate) %>% 
  rename(county = county_name)
```

#### Age-Adjusted CVD Hospitalization Rate in NY State, 2012 - 2014 
```{r cvd_bar_nys}
cvd_data %>%
  ggplot(aes(x = reorder(county, -percent_rate), y = percent_rate)) +
  labs(
    title = "CVD Hospitalization Rate in NY State, 2012 - 2014",
    x = "County",
    y = "Hospitalizations per 10,000") +
  geom_histogram(stat = "identity") + 
  theme_bw() +
  theme(axis.text.x = element_text(angle = 90), legend.position = "none")
```

Bronx recorded the highest rates of asthma emergency room admissions, which was more than double that of New York county (second highest rate), and nearly triple that of Kings county (third highest rate). Bronx also recorded the highest rates of cardiovascular hospitalization, with Niagara and Orleans following.

## Additional analysis

In our exploratory analysis, we found that the trends of hospitalizations and PM 2.5 do not trend together, and a potential confounder to that may be the number of hospitals in each county. However, given that the PM 2.5 and ozone datasets were missing many counties worth of data, we chose to use Air Quality Index measures (specifically number of unhealthy air quality days) as it is both an aggregate measure of all air pollutants and also had more complete data for New York State. 

```{r asthma_data, message=FALSE, output=FALSE, include = FALSE}
# Asthma emergency department visit rate per 10,000 by county
# Source: NYSDOH Health Data NY
# remove "regions"

asthma_ed = read_csv(file = "./data/data_AA/asthma_ED_rate_10000.csv") %>% 
  janitor::clean_names() %>%
  select(county_name, event_count_rate, percentage_rate_ratio, data_years) %>%
  filter(!county_name %in% c("Capital Region", "Central NY", "Finger Lakes", "Long Island", "Mid-Hudson", "Mohawk Valley", "New York City", "New York State", "New York State (excluding NYC)", "North Country", "Southern Tier", "Tug Hill Seaway", "Western NY")) %>% 
  rename(asthma_hosp_percent_rate_ratio = percentage_rate_ratio, 
         asthma_event_count = event_count_rate,
         asthma_hosp_years = data_years,
         county = county_name)
```

```{r cvd_data, message=FALSE, output=FALSE, include = FALSE}
# Age-adjusted cardiovascular disease hospitalization rate per 10,000 by county
# Source: NYSDOH Health Data NY
# remove "regions"

cvd_hosp = read_csv(file = "./data/data_AA/ageadjusted_cvd_hospitalization_rate_10000.csv") %>%
  janitor::clean_names() %>%
  filter(health_topic == "Cardiovascular Disease Indicators") %>%
  filter(!county_name %in% c("Capital Region", "Central NY", "Finger Lakes", "Long Island", "Mid-Hudson", "Mohawk Valley", "New York City", "New York State", "New York State (excluding NYC)", "North Country", "Southern Tier", "Tug Hill Seaway", "Western NY")) %>% 
  select(county_name, event_count, percent_rate, data_years) %>%
  rename(county = county_name,
         cvd_event_count = event_count,
         cvd_percent_rate = percent_rate,
         cvd_data_years = data_years)
```

```{r pm25_data, message=FALSE, output=FALSE, include = FALSE}
# PM 2.5 annual summary data by county
# Source: US EPA AQS, 2014

nys_pm25 = read_csv(file = "./data/data_AA/annual_aqi_by_county_2014.csv") %>% 
  janitor::clean_names() %>%
  filter(state == "New York") %>%
  select(county, good_days:median_aqi) %>%
  rename(airq_good_days = good_days,
         airq_moderate_days = moderate_days,
         airq_unhealthy_for_sensitive_groups_days = unhealthy_for_sensitive_groups_days,
         airq_unhealthy_days = unhealthy_days,
         airq_very_unhealthy_days = very_unhealthy_days,
         airq_hazardous_days = hazardous_days)
```

```{r hosp_data, message=FALSE, output=FALSE, include = FALSE}
# NYS county population and number of hospitals
# Source: NYS HealthData, 2014

num_hosp = read_csv(file = "./data/data_AA/nys_county_hospitals_2014.csv") %>% 
  janitor::clean_names() %>%
  rename(county = geography) %>%
  mutate(county = str_replace(county, " County", "")) %>%
  select(county, population, number_of_hospitals)
```

```{r join_data, include = FALSE}
asthma_cvd_join = full_join(asthma_ed, cvd_hosp, by = "county")
pm25_numhosp_join = full_join(nys_pm25, num_hosp, by = "county")

nys_joined = left_join(asthma_cvd_join, pm25_numhosp_join, by = "county")

# change NAs to 0 for ease of regression analysis
nys_joined[is.na(nys_joined)] = 0
```

**Checks before regression analysis:**

```{r reg_checks, message=FALSE, output=FALSE}
# Check for missing data

sum(is.na(asthma_ed)) 
sum(is.na(cvd_hosp))
sum(is.na(nys_pm25))
sum(is.na(num_hosp))
```

There are 2 pieces of missing data in `asthma_ed` file under Hamilton county, which could be a data entry error or due to the fact that Hamilton county has a very small population (4703) and none were hospitalized for asthma.

#### Regression model

We tested two models for each outcome (asthma hospitalizations and CVD hospitalizations): a crude model with just total days of unhealthy air quality per county as a predictor, and an adjusted model with total days of unhealthy air quality as well as number of hospitals per county. 

Crude model:

> asthma = unhealthy_aqi

> cvd = unhealthy_aqi

```{r crude_models}
crude_asthma_model = lm(asthma_hosp_percent_rate_ratio ~ total_unhealthy_days, data = nys_joined)

crude_cvd_model = lm(cvd_percent_rate ~ total_unhealthy_days, data = nys_joined)
```


Adjusted model:

> asthma = unhealthy_aqi + num_hosp

> cvd = unhealthy_aqi + num_hosp

```{r adj_models}
adj_asthma_model = lm(asthma_hosp_percent_rate_ratio ~ total_unhealthy_days + number_of_hospitals, data = nys_joined)

adj_cvd_model = lm(cvd_percent_rate ~ total_unhealthy_days + number_of_hospitals, data = nys_joined)
```


Interaction is not included, as it makes interpretation difficult.

#### Asthma model

```{r asthma_cv}
set.seed(1)
cv_asthma = crossv_mc(nys_joined, 100) 

# Fit candidate models
options(warn = -1) # suppress printing all the warnings
cv_asthma = cv_asthma %>%
  mutate(crude_asthma_mod = map(train, ~lm(asthma_hosp_percent_rate_ratio ~ total_unhealthy_days, data = .x)),
         adj_asthma_mod = map(train, ~lm(asthma_hosp_percent_rate_ratio ~ total_unhealthy_days + number_of_hospitals, data = .x))) %>%
  mutate(rmse_crude = map2_dbl(crude_asthma_mod, test, ~rmse(model = .x, data = .y)),
         rmse_adj = map2_dbl(adj_asthma_mod, test, ~rmse(model = .x, data = .y)))

# Plot distribution of RMSE
asthma_rmse = cv_asthma %>% 
  select(starts_with("rmse")) %>% 
  gather(key = model, value = rmse) %>% 
  mutate(model = str_replace(model, "rmse_", ""),
         model = fct_inorder(model)) %>% 
  ggplot(aes(x = model, y = rmse, fill = model)) + 
  labs(
    title = "Violin plots of RMSE, Asthma",
    y = "RMSE",
    x = "Model"
  ) +
  geom_violin()
```

#### CVD model

```{r cvd_cv}
set.seed(1)
cv_cvd = crossv_mc(nys_joined, 100) 

# Fit candidate models
options(warn = -1) # suppress printing all the warnings
cv_cvd = cv_cvd %>%
  mutate(crude_cvd_mod = map(train, ~lm(cvd_percent_rate ~ total_unhealthy_days, data = .x)),
         adj_cvd_mod = map(train, ~lm(cvd_percent_rate ~ total_unhealthy_days + number_of_hospitals, data = .x))) %>%
  mutate(rmse_crude = map2_dbl(crude_cvd_mod, test, ~rmse(model = .x, data = .y)),
         rmse_adj = map2_dbl(adj_cvd_mod, test, ~rmse(model = .x, data = .y)))

# Plot distribution of RMSE
cvd_rmse = cv_cvd %>% 
  select(starts_with("rmse")) %>% 
  gather(key = model, value = rmse) %>% 
  mutate(model = str_replace(model, "rmse_", ""),
         model = fct_inorder(model)) %>% 
  ggplot(aes(x = model, y = rmse, fill = model)) + 
  labs(
    title = "Violin plots of RMSE, CVD",
    y = "RMSE",
    x = "Model"
  ) +
  geom_violin()
```

#### Diagnostics of adjusted asthma model

```{r asthma_diagnostics}
# Plotting residuals
asthma_diagnostics = nys_joined %>%
  add_residuals(adj_asthma_model) %>%
  add_predictions(adj_asthma_model) %>%
  ggplot(aes(x = pred, y = resid)) + 
  labs(
    title = "Residuals vs fitted values, asthma",
    x = "Predicted values",
    y = "Residuals"
  ) +
  geom_point(alpha = .5) + 
  geom_smooth(se = FALSE)
```

#### Diagnostics of adjusted CVD model

```{r cvd_diagnostics}
# Plotting residuals
cvd_diagnostics = nys_joined %>%
  add_residuals(adj_cvd_model) %>%
  add_predictions(adj_cvd_model) %>%
  ggplot(aes(x = pred, y = resid)) + 
  labs(
    title = "Residuals vs fitted values, CVD",
    x = "Predicted values",
    y = "Residuals"
  ) +
  geom_point(alpha = .5) + 
  geom_smooth(se = FALSE)
```

#### Putting model diagnostics together 

```{r diagnostics_joined}
asthma_diagnostics + cvd_diagnostics
```

The plot of the residuals illustrates that the model does not predict higher values very well, which makes sense given that the rate of asthma hospitalizations events is generally not very high, save for select counties in NYC. The values cluster in the lower end of the distribution, and the fitted line jumps around, maybe in large part due to the small number of counties.

The plot of the residuals for the adjusted CVD hospitalizations model shows that the residuals are widely distributed for the lower predicted values, and has similar issues to the asthma hospitalizations plot in that the small sample size pulling the fitted line.

#### Putting RMSE plots together

```{r rmse_plots}
asthma_rmse + cvd_rmse
```

In our cross validation of the asthma model as well as the CVD model, we see that in the plots of the RMSE show the adjusted model to be slightly better than the crude model. As our sample size is still relatively small and with large disparities between counties (given that New York State has urban and rural pockets), the plot of the residuals with the fitted values sees the fitted line jump across the predicted values. 

#### Final models

```{r final_mod}
#### Adjusted asthma model ####
adj_asthma_model = lm(asthma_hosp_percent_rate_ratio ~ total_unhealthy_days + number_of_hospitals, data = nys_joined)

# summary(adj_asthma_model)
# summary(crude_asthma_model)

#### Adjusted CVD model ####
adj_cvd_model = lm(cvd_percent_rate ~ total_unhealthy_days + number_of_hospitals, data = nys_joined)

# summary(adj_cvd_model)
# summary(crude_cvd_model)
```

In our final adjusted asthma model, we see that the adjusted R-squared value is 0.4044 (compared to 0.2755 for the crude model), with a statistically significant p-value of 8.579e-08 (compared to 7.099e-06 for the crude model). This indicates a moderately well fitting model for asthma and air quality, but could still benefit from the addition of other predictors.

In our final adjusted CVD model, we see that the adjusted R-squared value is 0.0488 (compared to 0.0166 for the crude model), with a statistically insignificant p-value of 0.08556 (compared to 0.1592 for the crude model). This indicates that the while the adjusted model is better than the crude, it is still not a good model in predicting the effects of air quality on CVD hospitalizations in New York State.
 

## Discussion

In our visualizations, we see that there are large disparities in rate of hospitalizations for asthma and cardiovascular disease at the county level. Most noticeably, we see that Bronx County has more than double the amount of asthma hospitalizations per 10,000 population than any other county. In the plots of ambient PM 2.5 against asthma admission rates, we see that the Bronx falls towards the higher range of PM 2.5 as a clear outlier, where the rest of the points follow a clear positive trending line. However, New York County (Manhattan) has the highest plotted PM 2.5. An interesting finding is that four out of the five boroughs of New York City (missing Richmond County, or Staten Island) are in the top 5 of asthma hospitalizations. This is not surprising, given that New York City as a large urban center that has much more possible pollutants driving the rate of hospitalizations, and these results give us a clear picture of where the burden of asthma lies. It’s important to note that all five boroughs are featured in the plot of ambient PM 2.5 and asthma admissions - meaning they had reported measures of air quality data, while not all state counties did not. Interventions should target means to reduce ambient PM 2.5 in Manhattan and the Bronx, and explore other factors (including social determinants of health) in addressing asthma prevalence in the Bronx. 

Bronx County also rises above all other counties in terms of age-adjusted cardiovascular disease hospitalizations, but not by as much as for asthma hospitalizations. The other New York City borough in the top five is Kings County (Brooklyn). The plot of CVD and ambient PM 2.5 does not have as clear of a positive linear trend, and sees the available data clustered in the middle range of values for hospitalizations. In the scatterplot, we also see that there are two values (Essex County and Chautauqua County) that may not be outliers, but clearly fall towards the lower range of CVD hospitalizations. We are somewhat surprised by the results, as our hypothesis was that ambient air quality would negatively affect CVD hospitalizations similarly to asthma hospitalizations. This indicates that there may be many additional covariates to consider, and that the mechanisms of which poor air quality affects asthma and CVD are different. 

Looking at our final models and their corresponding RMSE violin plots, we see that the adjusted model is better for both asthma and CVD hospitalizations. However, the asthma model is moderately well fitting with an R-squared value of 0.4044, whereas the CVD model is not well fitting with an R-squared value of 0.0488.


### Limitations

A major limitation of this analysis was missing data. Throughout the exploration phase, we found various measures of air quality for New York State that was incomplete. Although there are standards in place, definitions of air and air quality are not consistently measured across the different publicly available data sources that were looked at. For example, some air quality data was measured in ug/m3, while other data showed person-time exposed above a given threshold of “poor” levels of air quality. This makes it challenging to compare our findings to others. Additionally, certain counties in New York state did not have any PM 2.5 data available. In future studies, we would recommend looking for data beyond what is publicly available to get a more complete picture of what is occurring across New York state. 

Missing data also caused limitations when looking at hospitalization rates for asthma and CVD across New York state. The final analysis shows a plot for CVD hospitalizations from 2012-2014, while the asthma hospitalization plot is only for 2014. This inconsistently makes it challenging to make comparisons across the two plots. However, since the purpose of this analysis was not to compare CVD and asthma hospitalizations, but rather to look at how air quality might affect the health outcomes’ hospitalization rates, so the analysis is valuable. The missing data also affected the model building and analysis, as original analysis of just New York City was largely underpowered. However, as New York State has a large collection of open source data, which other states may not have, so we decided to simply expand our range to the rest of the counties in the state.

Asthma is a chronic disease, so asthma emergency room visit rates reflect asthma exacerbation incidents. In contrast, cardiovascular hospitalization rates do not differentiate between a one-time acute episode like a stroke or an exacerbation of an underlying cardiovascular condition like high blood pressure or arrhythmia. There also could be other ways to measure the health outcome rates for CVD and asthma instead of hospitalization rates, which might not be accurate representation of true rates of the diseases based hospital access and other factors such as insurance status that might affect a person’s choice to go to a hospital.

### Conclusion

The analysis confirms that ambient PM2.5 exposure is associated with asthma and CVD, using hospitalization rates as the proxy indicator. New York City counties, including the Bronx and New York, have high ambient PM2.5 exposure. Bronx counties has the most number of hospitalizations per 10,000 people for both asthma and CVD. Our analysis shows that exposure to ambient PM2.5 does not account for all the disparity in hospitalization rates seen in the Bronx, it does account for some of it. Interventions related to air quality should be focused in the Bronx and New York Counties. 

Future studies should look into measures of air quality that are consistently collected for better comparability purposes. Additionally, different indicators for asthma and CVD would be helpful since hospitalization rates might not be the best measure for the purposes of this research question.
